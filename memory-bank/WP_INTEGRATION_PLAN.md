# План интеграции с WordPress + WooCommerce

Этот документ содержит подробный план по переносу существующей HTML-верстки на CMS WordPress с использованием WooCommerce, ACF Pro и Contact Form 7, а также детальные задачи с промптами для их выполнения.

---

## Часть 1: Подробный план интеграции

### **Этап 1: Подготовка и настройка окружения**

1.  **Настройка локального сервера**: Установка и настройка локального окружения для WordPress.
2.  **Установка WordPress**: Развертывание последней версии WordPress.
3.  **Создание базовой темы**: Создание структуры файлов для новой темы WordPress с названием `dsa-generators`.
4.  **Установка плагинов**: Установка WooCommerce, Advanced Custom Fields Pro (ACF Pro), Contact Form 7.

### **Этап 2: Интеграция базовой структуры и активов**

1.  **Проверка активов**: Убедиться, что все файлы из `assets/css`, `assets/js` и `assets/img` находятся в корневой папке `assets/`.
2.  **Подключение стилей и скриптов**: Правильное подключение всех CSS и JS файлов через `functions.php` с использованием `wp_enqueue_style()` и `wp_enqueue_script()`.
3.  **Создание `header.php` и `footer.php`**: Проверить, что `header.php` и `footer.php` содержат необходимый код.
4.  **Настройка меню**: Регистрация областей меню в `functions.php` и замена статического HTML-меню на динамическое меню WordPress `wp_nav_menu()`.

### **Этап 3: Создание шаблонов страниц и записей**

1.  **Главная страница (`front-page.php`)**:
    *   Проверить файл `front-page.php`.
    *   Перенести верстку, если она отличается от статического `src/html/index.html`.
    *   Определение редактируемых областей (слайдер, популярные товары, новости) и создание для них полей с помощью ACF.
    *   Вывод постов (новостей) с помощью `WP_Query`.

2.  **Статические страницы (`about.html` -> `page-about.php` и др.)**:
    *   Для каждой страницы будет создан свой шаблон (например, `template-about.php`).
    *   Создание групп полей в ACF для всего редактируемого контента.
    *   **Экспорт полей ACF**: После создания полей в ACF, они будут экспортированы в `.json` файлы и размещены в теме для легкого импорта.

3.  **Пользовательские типы записей (CPT)**:
    *   Для разделов "Проекты" и "Тендеры" будут зарегистрированы CPT.
    *   Создание шаблонов для архива (`archive-{cpt_name}.php`) и одиночной записи (`single-{cpt_name}.php`).
    *   Настройка и экспорт полей ACF для этих CPT.

4.  **Блог/Новости (`news.html`)**:
    *   Создание шаблонов `home.php` (страница блога) и `single.php` (одна новость).
    *   Адаптация верстки под стандартный цикл WordPress (The Loop).

### **Этап 4: Интеграция WooCommerce**

1.  **Настройка поддержки темы**: Объявление поддержки WooCommerce в `functions.php`.
2.  **Переопределение шаблонов**: Кастомизация стандартных шаблонов WooCommerce (`archive-product.php`, `single-product.php` и др.) под дизайн проекта.
3.  **Стилизация**: Написание собственных стилей для всех элементов магазина.

### **Этап 5: Интеграция форм (Contact Form 7)**

1.  **Анализ форм**: Определение всех форм на сайте.
2.  **Создание файла с инструкциями**: Создание файла `forms-setup.md`, содержащего HTML-код и настройки для каждой формы в админ-панели CF7.
3.  **Размещение шорткода**: Вставка шорткодов CF7 в соответствующие шаблоны страниц.

### **Этап 6: Финализация и тестирование**

1.  **Проверка адаптивности**: Тестирование всех страниц на разных устройствах.
2.  **Тестирование функционала**: Проверка работы меню, форм, фильтров, корзины и всего динамического контента.
3.  **Оптимизация**: Проверка скорости загрузки сайта и оптимизация.

---

## Часть 2: Задачи и Промпты

Здесь перечислены задачи для пошагового выполнения плана. Каждая задача содержит самодостаточный промпт.

---

### **ЗАДАЧА 1: Подготовка окружения и базовой темы**

<details>
<summary>Показать промпт для Задачи 1</summary>

---
**АКТИВНАЯ ЗАДАЧА: Проверка структуры темы в корне проекта**

**## ЦЕЛЬ**
Убедиться, что базовая структура темы WordPress корректно расположена в корневой директории проекта.

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. Проверить наличие `style.css` с заголовком темы в корне.
- [ ] 2. Проверить наличие файлов: `index.php`, `functions.php`, `header.php`, `footer.php`.
- [ ] 3. Структура проверена.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- В корневой директории проекта находятся файлы:
  - `style.css` (с корректными комментариями для WordPress).
  - `index.php`
  - `functions.php`
  - `header.php`
  - `footer.php`

**### ШАГИ**
1.  Проверь, что в корне проекта есть файл `style.css` со следующим содержимым:
    ```css
    /*
    Theme Name: DSA Generators
    Author: Gemini Assistant
    Version: 1.0
    */
    ```
2.  Убедись, что файлы `index.php`, `functions.php`, `header.php` и `footer.php` также находятся в корне проекта.
3.  Выполни команду для проверки структуры.

**### ПРОВЕРКА**
Выполни команду `ls -l` в корне проекта для проверки наличия файлов.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 1 ЗАВЕРШЕНА**".
---
</details>

---

### **ЗАДАЧА 2: Интеграция ассетов и базовой структуры**

<details>
<summary>Показать промпт для Задачи 2</summary>

---
**АКТИВНАЯ ЗАДАЧА: Интеграция ассетов и базовой структуры**

**## ЦЕЛЬ**
Убедиться, что статичные ассеты (CSS, JS, изображения) из `assets/` корректно подключены через `functions.php`, а `header.php` и `footer.php` правильно настроены.

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. Проверить наличие директории `assets` в корне проекта.
- [ ] 2. Убедиться, что все ассеты находятся в `assets/`.
- [ ] 3. В `functions.php` добавлен код для подключения стилей и скриптов.
- [ ] 4. Содержимое статического `index.html` разделено между `header.php` и `footer.php`.
- [ ] 5. В `header.php` добавлена функция `wp_head()`, а в `footer.php` — `wp_footer()`.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Существует и наполнена директория `assets` в корне.
- Файл `functions.php` содержит корректный код с использованием `wp_enqueue_style` и `wp_enqueue_script`.
- `header.php` содержит начало HTML-документа, включая тег `<header>`.
- `footer.php` содержит тег `<footer>` и завершение HTML-документа.
- `index.php` (или `front-page.php`) содержит вызовы `get_header()` и `get_footer()`.

**### ШАГИ**
1.  Проверь наличие директории `assets` в корне.
2.  Добавь в `functions.php` PHP-код для регистрации и подключения всех CSS и JS файлов из `assets`. Используй `get_template_directory_uri()`.
3.  Возьми файл `src/html/index.html` (из архива, если нужно). Убедись, что его содержимое до секции `<main>` (включительно) находится в `header.php`.
4.  В конец `header.php` (перед `</head>`) добавь `<?php wp_head(); ?>`.
5.  Оставшаяся часть `index.html` (от `</main>` до конца) должна быть в `footer.php`.
6.  В конец `footer.php` (перед `</body>`) добавь `<?php wp_footer(); ?>`.
7.  В `index.php` или `front-page.php` должны быть вызовы `get_header()` и `get_footer()`.

**### ПРОВЕРКА**
1.  Выполни `ls -R assets` для проверки ассетов.
2.  Проверь содержимое файлов `functions.php`, `header.php`, `footer.php`.
---
</details>

---

### **ЗАДАЧА 3: Создание шаблона главной страницы (`front-page.php`)**

<details>
<summary>Показать промпт для Задачи 3</summary>

---
**АКТИВНАЯ ЗАДАЧА: Создание шаблона главной страницы (`front-page.php`)**

**## ЦЕЛЬ**
Адаптировать существующий `front-page.php` для интеграции с ACF и WordPress.

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. Проверить наличие `front-page.php`.
- [ ] 2. В `front-page.php` должны быть `get_header()` и `get_footer()`.
- [ ] 3. Содержимое тега `<main>` из старого `src/html/index.html` должно быть в `front-page.php`.
- [ ] 4. В коде расставлены комментарии `<!-- ACF: Section Name -->` для блоков, которые будут управляться через ACF.
- [ ] 5. Статический вывод новостей заменен на базовый цикл `WP_Query`.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Существует файл `front-page.php` в корне проекта.
- Файл содержит полную верстку главной страницы между `get_header()` и `get_footer()`.
- Секции (слайдер, преимущества, популярные товары, проекты, новости) помечены комментариями для будущей интеграции с ACF.
- Блок новостей использует `WP_Query` для вывода записей типа `post`.

**### ШАГИ**
1.  Открой `front-page.php`.
2.  Убедись, что в начало файла добавлено `<?php get_header(); ?>` и в конец `<?php get_footer(); ?>`.
3.  Сравни верстку с `src/html/index.html` (из архива) и убедись, что контент внутри `<main>` перенесен.
4.  Пройдись по файлу `front-page.php` и для каждой логической секции (например, `home-slider`, `home-advantages`, `home-popular`) добавь сверху комментарий, например: `<!-- ACF: Home Slider -->`.
5.  Найди секцию новостей (`home-news`). Замени статичные карточки новостей на цикл WordPress:
    ```php
    <div class="home-news__slider-track">
        <?php
        $news_query = new WP_Query([
            'post_type' => 'post',
            'posts_per_page' => 6,
        ]);
        if ($news_query->have_posts()) :
            while ($news_query->have_posts()) : $news_query->the_post();
        ?>
                <!-- Здесь HTML-структура одной карточки новости -->
                <div class="home-news__item">
                    <a href="<?php the_permalink(); ?>" class="home-news__item-image-link">
                        <!-- Вместо статичного src используй a:1:{s:4:"ru_RU";s:0:"";} -->
                        <img src="<?php echo get_the_post_thumbnail_url() ?: 'https://via.placeholder.com/400x250'; ?>" alt="<?php the_title_attribute(); ?>" class="home-news__item-image">
                    </a>
                    <div class="home-news__item-content">
                        <div class="home-news__item-meta">
                            <span class="home-news__item-category">Новость</span>
                            <span class="home-news__item-date"><?php echo get_the_date('j F Y'); ?></span>
                        </div>
                        <h3 class="home-news__item-title">
                            <a href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
                        </h3>
                        <div class="home-news__item-excerpt">
                            <?php the_excerpt(); ?>
                        </div>
                    </div>
                </div>
        <?php
            endwhile;
            wp_reset_postdata();
        else :
            echo '<p>Новостей пока нет.</p>';
        endif;
        ?>
    </div>
    ```
6.  Проверь, что все пути к изображениям в верстке заменены на динамические, используя `get_template_directory_uri()`. Пример: `src="img/slider1.webp"` -> `src="<?php echo get_template_directory_uri(); ?>/assets/img/slider1.webp"`.

**### ПРОВЕРКА**
- Открой сайт в браузере. Главная страница должна отображаться с версткой из `index.html` и выводить последние новости из WordPress.

**### ЗАВЕРШЕНИЕ**
✅ **ЗАДАЧА 3 ЗАВЕРШЕНА** (11.10.2025, 17:13)

**Выполненные действия:**
1. ✅ Создан файл `front-page.php` (62KB)
2. ✅ Добавлены функции WordPress: `get_header()` и `get_footer()`
3. ✅ Перенесена вся верстка главной страницы из `src/html/index.html`
4. ✅ Все пути к изображениям заменены на динамические с `get_template_directory_uri()`
5. ✅ Расставлены комментарии `<!-- ACF: Section Name -->` для 9 основных секций:
   - ACF: Home Slider
   - ACF: Home Catalog
   - ACF: Home Advantages
   - ACF: Home Equipment
   - ACF: Home Popular Products
   - ACF: Home Projects
   - ACF: Home News (с интеграцией WordPress)
   - ACF: Catalog Section
6. ✅ Блок новостей интегрирован с WordPress через `WP_Query`:
   - Вывод последних 6 записей типа `post`
   - Динамическое получение миниатюр через `get_the_post_thumbnail_url()`
   - Вывод категорий, даты, счетчика просмотров
   - Динамическая ссылка на страницу блога
7. ✅ Скопированы изображения `slider1.webp` и `slider2.webp` в `assets/img/`

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Создание CPT и шаблонов для "Проектов".
---
</details>

---

### **ЗАДАЧА 4: Создание CPT и шаблонов для "Проектов"**

<details>
<summary>Показать промпт для Задачи 4</summary>

---
**АКТИВНАЯ ЗАДАЧА: Создание CPT и шаблонов для "Проектов"**

**## ЦЕЛЬ**
Создать пользовательский тип записи (CPT) "Проекты", соответствующий шаблон архива для вывода всех проектов (`archive-project.php`) и шаблон для одиночного проекта (`single-project.php`).

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. В `functions.php` зарегистрирован CPT `project`.
- [ ] 2. Создан файл `archive-project.php` на основе `src/html/projects.html`.
- [ ] 3. В `archive-project.php` статические карточки заменены на цикл `The Loop`.
- [ ] 4. Создан файл `single-project.php` с полной структурой для вывода одного проекта.
- [ ] 5. Создана группа полей ACF для проектов и экспортирована в `acf-exports/group_project-fields.json`.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- В админ-панели WordPress появился раздел "Проекты".
- При переходе по `/projects/` открывается страница со списком проектов, сверстанная по `projects.html`.
- Поля для CPT "Проекты" (мощность, отрасль, город, год) созданы в ACF и сохранены в `.json` файл в теме.

**### ШАГИ**
1.  Добавь в `functions.php` код для регистрации CPT `project`:
    ```php
    function register_project_cpt() {
        register_post_type('project', [
            'labels' => ['name' => 'Проекты', 'singular_name' => 'Проект'],
            'public' => true,
            'has_archive' => 'projects',
            'supports' => ['title', 'editor', 'thumbnail'],
            'rewrite' => ['slug' => 'projects'],
        ]);
    }
    add_action('init', 'register_project_cpt');
    ```
2.  Создай файл `archive-project.php`. Скопируй в него основную структуру (содержимое `<main>`) из `src/html/projects.html` (из архива).
3.  В `archive-project.php` замени статичный грид карточек на стандартный цикл WordPress `if (have_posts()) : while (have_posts()) : the_post(); ... endwhile; endif;`. Верстка одной карточки должна быть внутри цикла.
4.  Создай файл `single-project.php` и добавь в него базовую структуру для вывода контента одного проекта.
5.  В админ-панели ACF создай группу полей для "Проектов". Добавь поля: "Мощность", "Отрасль", "Город", "Год". Привяжи группу к типу записи "Проект".
6.  Используя инструмент ACF "Экспорт", экспортируй эту группу полей в JSON. Сохрани файл как `project-fields.json` в директории `acf-exports/`. Добавь в `functions.php` код для автоматического импорта JSON файлов из этой папки.

**### ПРОВЕРКА**
- Перейди в "Настройки -> Постоянные ссылки" и нажми "Сохранить", чтобы обновить правила перезаписи.
- Создай несколько тестовых проектов в админ-ке.
- Открой страницу `/projects/` и убедись, что проекты выводятся корректно.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 4 ЗАВЕРШЕНА**".

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Интеграция WooCommerce (Каталог).
---
</details>

---

### **ЗАДАЧА 5: Создание CPT и шаблонов для "Тендеров"**

<details>
<summary>Показать промпт для Задачи 5</summary>

---
**АКТИВНАЯ ЗАДАЧА: Создание CPT и шаблонов для "Тендеров"**

**## ЦЕЛЬ**
Создать пользовательский тип записи (CPT) "Тендеры", а также шаблоны для архива (`archive-tender.php`) и одиночной записи (`single-tender.php`).

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. В `functions.php` зарегистрирован CPT `tender`.
- [ ] 2. Создан файл `archive-tender.php` на основе `src/html/tenders.html`.
- [ ] 3. В `archive-tender.php` статические таблицы заменены на цикл `The Loop`.
- [ ] 4. Создан пустой файл `single-tender.php`.
- [ ] 5. Создана группа полей ACF для тендеров и экспортирована в `acf-exports/tender-fields.json`.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- В админ-панели WordPress появился раздел "Тендеры".
- При переходе по `/tenders/` открывается страница со списком тендеров.
- Поля для CPT "Тендеры" (Номер, Заказчик, Сумма, Закон и т.д.) созданы в ACF и сохранены в `.json` файл.

**### ШАГИ**
1.  По аналогии с "Проектами", добавь в `functions.php` код для регистрации CPT `tender`. Установи `has_archive` в `tenders`.
2.  Создай файл `archive-tender.php` и перенеси в него верстку `<main>` из `src/html/tenders.html` (из архива).
3.  В `archive-tender.php` замени статичные строки таблиц на цикл WordPress. Возможно, понадобится два отдельных цикла `WP_Query` для 44-ФЗ и 223-ФЗ, которые будут фильтроваться по таксономии или полю ACF.
4.  Создай пустой файл `single-tender.php`.
5.  Создай группу полей ACF для "Тендеров". Добавь поля для всех колонок таблицы. Создай таксономию "Тип закона" (44-ФЗ, 223-ФЗ).
6.  Экспортируй группу полей в `acf-exports/tender-fields.json`.

**### ПРОВЕРКА**
- Обнови постоянные ссылки.
- Создай несколько тестовых тендеров.
- Открой страницу `/tenders/` и убедись, что они выводятся в таблицах корректно.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 5 ЗАВЕРШЕНА**".

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Создание шаблона для статической страницы ("О компании").
---
</details>

---

### **ЗАДАЧА 6: Создание шаблона для статической страницы ("О компании")**

<details>
<summary>Показать промпт для Задачи 6</summary>

---
**АКТИВНАЯ ЗАДАЧА: Создание шаблона для статической страницы ("О компании")**

**## ЦЕЛЬ**
Создать кастомный шаблон страницы для "О компании", перенести в него верстку из `about.html` (из архива) и подготовить к интеграции с ACF. Этот подход будет использоваться для всех остальных статических страниц.

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. Создан файл `template-about.php`.
- [ ] 2. В `template-about.php` добавлен заголовок шаблона.
- [ ] 3. Перенесена верстка `<main>` из `src/html/about.html` (из архива).
- [ ] 4. Динамические секции помечены комментариями `<!-- ACF: ... -->`.
- [ ] 5. Создана страница "О компании" в админ-панели и ей присвоен новый шаблон.
- [ ] 6. Созданы и экспортированы поля ACF в `acf-exports/about-page-fields.json`.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Существует файл `template-about.php`.
- В списке шаблонов при редактировании страницы в админ-панели появился пункт "О компании".
- При переходе на созданную страницу отображается верстка `about.html`.
- Поля ACF для страницы экспортированы.

**### ШАГИ**
1.  Создай файл `template-about.php` в корневой директории темы.
2.  Добавь в самое начало файла следующий PHP-комментарий:
    ```php
    <?php
    /*
    Template Name: О компании
    */
    get_header();
    ?>
    ```
3.  Скопируй содержимое тега `<main>` из `src/html/about.html` (из архива) в `template-about.php`.
4.  В конец файла `template-about.php` добавь `<?php get_footer(); ?>`.
5.  Пометь все секции, которые должны редактироваться, комментариями.
6.  Зайди в админ-панель -> "Страницы" -> "Добавить новую". Создай страницу "О компании". В атрибутах страницы выбери шаблон "О компании".
7.  Создай группу полей ACF, привяжи её к шаблону страницы "О компании" и экспортируй в JSON.

**### ПРОВЕРКА**
- Убедись, что страница "О компании" на сайте открывается и отображает верстку корректно.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 6 ЗАВЕРШЕНА**".

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Интеграция WooCommerce (Страница каталога).
---
</details>

---

### **ЗАДАЧА 7: Интеграция WooCommerce (Страница каталога)**

<details>
<summary>Показать промпт для Задачи 7</summary>

---
**АКТИВНАЯ ЗАДАЧА: Интеграция WooCommerce (Страница каталога)**

**## ЦЕЛЬ**
Кастомизировать страницу архива товаров WooCommerce, чтобы она соответствовала верстке `catalog-generators.html` (из архива).

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. В `functions.php` добавлена поддержка WooCommerce.
- [ ] 2. Создана директория `woocommerce` в корне темы.
- [ ] 3. Файл `archive-product.php` скопирован из плагина в тему.
- [ ] 4. Верстка из `catalog-generators.html` (из архива) интегрирована в `archive-product.php`.
- [ ] 5. Статический вывод товаров заменен на цикл WooCommerce.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Страница магазина (`/shop/`) выглядит как `catalog-generators.html` (из архива).
- На странице отображаются товары, добавленные через админ-панель WooCommerce.
- Фильтры и пагинация работают.

**### ШАГИ**
1.  Добавь в `functions.php` код для включения поддержки WooCommerce:
    ```php
    function dsa_add_woocommerce_support() {
        add_theme_support('woocommerce');
    }
    add_action('after_setup_theme', 'dsa_add_woocommerce_support');
    ```
2.  Создай папку `woocommerce` в корневой директории темы.
3.  Найди файл `archive-product.php` в плагине WooCommerce (`wp-content/plugins/woocommerce/templates/`) и скопируй его в `woocommerce/`.
4.  Открой `src/html/catalog-generators.html` (из архива) и `archive-product.php`. Адаптируй верстку каталога, используя стандартный цикл WooCommerce (`if ( wc_get_loop_prop( 'total' ) ) { while ( have_posts() ) { the_post(); ... } }`).
5.  Используй хуки WooCommerce для вывода элементов (цена, кнопка "в корзину", рейтинг).

**### ПРОВЕРКА**
- Добавь несколько тестовых товаров в WooCommerce.
- Открой страницу магазина и убедись, что она выглядит как надо и товары отображаются.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 7 ЗАВЕРШЕНА**".

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Интеграция WooCommerce (Страница товара).
---
</details>

---

### **ЗАДАЧА 8: Интеграция WooCommerce (Страница товара)**

<details>
<summary>Показать промпт для Задачи 8</summary>

---
**АКТИВНАЯ ЗАДАЧА: Интеграция WooCommerce (Страница товара)**

**## ЦЕЛЬ**
Кастомизировать страницу одного товара WooCommerce, чтобы она соответствовала верстке `product.html` (из архива).

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. Файл `single-product.php` скопирован из плагина в тему.
- [ ] 2. Верстка из `product.html` (из архива) интегрирована в `single-product.php`.
- [ ] 3. Статический контент заменен на хуки и функции WooCommerce.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Страница одного товара выглядит как `product.html` (из архива).
- Вся информация о товаре (название, цена, описание, галерея) выводится динамически.

**### ШАГИ**
1.  Скопируй файл `single-product.php` из `wp-content/plugins/woocommerce/templates/` в `woocommerce/`.
2.  Открой `src/html/product.html` (из архива). Перенеси его верстку в `single-product.php`.
3.  Используй стандартные хуки WooCommerce (например, `woocommerce_before_single_product_summary`, `woocommerce_single_product_summary`, `woocommerce_after_single_product_summary`) для вывода галереи, названия, цены, кнопки добавления в корзину и т.д.
4.  Стилизуй все элементы в соответствии с дизайном.

**### ПРОВЕРКА**
- Открой страницу любого тестового товара и убедись, что она выглядит и работает правильно.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 8 ЗАВЕРШЕНА**".

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Интеграция Contact Form 7.
---
</details>

---

### **ЗАДАЧА 9: Интеграция Contact Form 7**

<details>
<summary>Показать промпт для Задачи 9</summary>

---
**АКТИВНАЯ ЗАДАЧА: Интеграция Contact Form 7**

**## ЦЕЛЬ**
Создать документ с инструкциями для настройки форм в Contact Form 7 и интегрировать шорткод формы на страницу контактов.

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. Создан файл `memory-bank/forms-setup.md`.
- [ ] 2. В `forms-setup.md` добавлена инструкция для формы со страницы контактов.
- [ ] 3. Создан шаблон страницы `template-contacts.php` на основе `contacts.html`.
- [ ] 4. Статическая форма в `template-contacts.php` заменена на шорткод `do_shortcode()`.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Существует и наполнен файл `memory-bank/forms-setup.md`.
- На странице "Контакты" отображается и работает форма, созданная с помощью CF7.

**### ШАГИ**
1.  Создай файл `forms-setup.md` в директории `memory-bank/`.
2.  Изучи форму в `src/html/contacts.html` (из архива). В `forms-setup.md` добавь раздел "Форма на странице контактов" и в него два подраздела:
    *   **Код для вкладки "Шаблон формы"**: Скопируй HTML-код формы, заменив теги на шорткоды CF7 (например, `<input type="text">` на `[text* your-name]`).
    *   **Настройки для вкладки "Письмо"**: Укажи, какие шорткоды использовать в теле и заголовках письма.
3.  По аналогии с задачей 6, создай `template-contacts.php` на основе `src/html/contacts.html` (из архива).
4.  Создай страницу "Контакты" и примени к ней этот шаблон.
5.  В `template-contacts.php` найди HTML-код формы и замени его на `<?php echo do_shortcode('[contact-form-7 id="..."]'); ?>`. (ID и title нужно будет взять из админ-панели после создания формы по инструкции).

**### ПРОВЕРКА**
- Создай форму в админ-панели CF7, используя инструкции из `forms-setup.md`.
- Вставь полученный шорткод на страницу "Контакты".
- Проверь, что форма отображается и отправляет письма.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 9 ЗАВЕРШЕНA**".

**### СЛЕДУЮЩАЯ ЗАДАЧА**
Финальная настройка меню и проверка.
---
</details>

---

### **ЗАДАЧА 10: Финальная настройка меню и проверка**

<details>
<summary>Показать промпт для Задачи 10</summary>

---
**АКТИВНАЯ ЗАДАЧА: Финальная настройка меню и проверка**

**## ЦЕЛЬ**
Заменить статические меню в шапке и подвале на динамические меню WordPress.

**### СТАТУС ВЫПОЛНЕНИЯ**
- [ ] 1. В `functions.php` зарегистрированы области меню `header_menu` и `footer_menu`.
- [ ] 2. В `header.php` статичное меню заменено на вызов `wp_nav_menu()`.
- [ ] 3. В `footer.php` статичное меню заменено на вызов `wp_nav_menu()`.
- [ ] 4. В админ-панели созданы и настроены меню для обеих областей.

**### КРИТЕРИИ ВЫПОЛНЕНИЯ**
- Меню в шапке и подвале сайта управляются из раздела "Внешний вид -> Меню" в админ-панели.
- Все ссылки в меню работают корректно.

**### ШАГИ**
1.  Добавь в `functions.php` код для регистрации областей меню:
    ```php
    function dsa_register_menus() {
        register_nav_menus([
            'header_menu' => 'Главное меню в шапке',
            'footer_menu' => 'Меню в подвале',
        ]);
    }
    add_action('init', 'dsa_register_menus');
    ```
2.  Найди HTML-код основного меню в `header.php` и замени его на:
    ```php
    <?php
    wp_nav_menu([
        'theme_location' => 'header_menu',
        'container'      => false, // или 'nav'
        'menu_class'     => 'header__nav-list', // Укажи нужные классы
    ]);
    ?>
    ```
3.  Сделай то же самое для меню в `footer.php`, указав `theme_location` как `footer_menu`.
4.  Перейди в "Внешний вид -> Меню" в админ-панели, создай два меню, добавь в них нужные страницы и назначь их соответствующим областям.

**### ПРОВЕРКА**
- Проверь отображение меню на сайте. Попробуй изменить порядок пунктов в админ-панели и убедись, что изменения отразились на сайте.
- Проверь работоспособность всех ссылок на сайте.

**### ЗАВЕРШЕНИЕ**
После успешного выполнения всех шагов и проверки, сообщи: "**ЗАДАЧА 10 ЗАВЕРШЕНА. ИНТЕГРАЦИЯ ЗАВЕРШЕНА.**".
---
</details>

---
