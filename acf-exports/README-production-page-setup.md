# Поля ACF для страницы "Производство"

## Группа полей: Production Page Fields

**Привязка:** К шаблону страницы = "Производство"

---

## Структура полей

### 1. Заголовок страницы
- **Название поля:** `production_page_title`
- **Тип:** Text
- **По умолчанию:** "Производство электростанций, контейнеров и электрощитов"

### 2. Вводные тексты

#### Вводный текст 1
- **Название поля:** `production_intro_text1`
- **Тип:** Textarea
- **По умолчанию:** "«DSA Generators» - один из крупнейших производителей электростанций и контейнеров на Северо-Западе. Производственные цеха ООО «DSA Generators» находятся в Выборгском районе Санкт-Петербурга и занимают площадь 3000 м². Производство работает с 2008 года."

#### Вводный текст 2
- **Название поля:** `production_intro_text2`
- **Тип:** Textarea
- **По умолчанию:** "Объем производства: 400 агрегатов в год. На производстве задействовано 40 рабочих разных специальностей: инженеры-конструкторы, сборщики контейнеров и ДГУ, аттестованные сварщики, резчики по металлу, маляры, электрики."

#### Вводный текст 3
- **Название поля:** `production_intro_text3`
- **Тип:** Textarea
- **По умолчанию:** "Производство контейнеров для дизельных электроаграторов, шумозащитный кожух и на шасси. Устанавливаем системы освещения оборудования, отопления и вентиляции, газовыхлопа, автоматического пожаротушения и сигнализации, силовые шкафы, АВР, системы дистанционного мониторинга и управления."

### 3. CTA блок

#### Заголовок CTA блока
- **Название поля:** `production_cta_title`
- **Тип:** Text
- **По умолчанию:** "Хотите экскурсию по нашему производству?"

#### Текст CTA блока
- **Название поля:** `production_cta_text`
- **Тип:** Textarea
- **По умолчанию:** "Отправьте заявку на order+79336@dsa-generators.ru или позвоните 8 (800) 770-71-57"

**Особенности:**
- Автоматическое форматирование email и телефона в ссылки

### 4. Список продукции

#### Заголовок списка
- **Название поля:** `production_list_title`
- **Тип:** Text
- **По умолчанию:** "Мы производим и монтируем:"

#### Список продукции
- **Название поля:** `production_list_items`
- **Тип:** Repeater
  - **Подполя:**
    - `production_item_text` (Text) - Название продукции

**Дефолтные элементы:**
- Контейнеры (цельнометаллические и из сэндвич-панелей) длиной от 2 до 20 м.
- Противопожарные двери, ворота, клапаны, глушители (сертифицированные).
- Топливные баки объемом от 500 до 15000 л.
- Трубопроводы и воздуховоды.
- Электрощитовое оборудование (ЩСН, РУ, ГРЩ, ЩАУ).

### 5. Цеха производства (ДЕТАЛЬНАЯ СТРУКТУРА)

#### Список цехов
- **Название поля:** `production_workshops`
- **Тип:** Repeater
  - **Подполя:**
    - `workshop_title` (Text) - Название цеха
    - `workshop_type` (Select) - Тип цеха для группировки
    - `workshop_description` (Textarea) - Основное описание работы цеха
    - `workshop_additional_text` (Textarea) - Дополнительный текст (второй абзац)
    - `workshop_equipment` (Repeater) - Список оборудования цеха
    - `workshop_machines` (Repeater) - Современные машины (для типа 'Современные машины')
    - `workshop_stats` (Repeater) - Статистические данные цеха
    - `workshop_images` (Gallery) - Галерея изображений цеха

**Типы цехов:**
- `metal_cutting` - Цех резки по металлу
- `modern_machines` - Современные машины
- `assembly` - Сборочный цех
- `painting` - Покрасочная камера
- `electrical` - Цех электрощитовой продукции
- `design` - Конструкторский отдел
- `fuel_tanks` - Цех изготовления топливных и масляных баков

**Оборудование цеха (Repeater):**
- `equipment_name` (Text) - Название оборудования

**Современные машины (Repeater, только для типа 'modern_machines'):**
- `machine_title` (Text) - Название машины
- `machine_description` (Textarea) - Описание машины

**Статистика цеха (Repeater):**
- `stat_label` (Text) - Название показателя
- `stat_value` (Text) - Значение показателя

**Дефолтные цеха:**
- **Цех резки по металлу** - с описанием материалов, производительности, списком оборудования
- **Современные машины 2022 года** - с описанием новых машин и их характеристик
- **Сборочный цех** - с описанием сварочных аппаратов и кранов
- **Покрасочная камера** - с описанием площади, высоты, оборудования
- **Цех сборки электрощитовой продукции** - с количеством рабочих
- **Конструкторский отдел** - с описанием функций
- **Цех изготовления топливных и масляных баков** - с количеством рабочих

**Особенности:**
- Поддержка галереи изображений для каждого цеха
- Поддержка HTML в описаниях через `wp_kses_post()`
- Условная логика для отображения современных машин только для соответствующего типа
- Гибкая структура для добавления статистики и оборудования

### 6. Преимущества производства

#### Заголовок преимуществ
- **Название поля:** `production_advantages_title`
- **Тип:** Text
- **По умолчанию:** "Преимущества производства"

#### Список преимуществ
- **Название поля:** `production_advantages`
- **Тип:** Repeater
  - **Подполя:**
    - `advantage_text` (Text) - Текст преимущества

**Дефолтные преимущества:**
- Быстрое изготовление при максимально высоком качестве.
- Решение всех вопросов по принципу «единого окна».
- Полный цикл: проектирование, изготовление, покраска, монтаж, технический контроль.
- Конструкторы с опытом работы более 15 лет.
- Современные профессиональные станки.

### 7. Менеджмент и план-график работ

#### Заголовок менеджмента
- **Название поля:** `production_management_title`
- **Тип:** Text
- **По умолчанию:** "Менеджмент и план-график работ"

#### Тексты менеджмента
- **Название поля:** `production_management_text1` (Textarea) - Первый абзац
- **Название поля:** `production_management_text2` (Textarea) - Второй абзац
- **Название поля:** `production_management_text3` (Textarea) - Третий абзац

#### Контакты менеджмента
- **Название поля:** `production_management_contact1_title` (Text) - Заголовок контакта 1
- **Название поля:** `production_management_contact1_text` (Textarea) - Текст контакта 1
- **Название поля:** `production_management_contact2_title` (Text) - Заголовок контакта 2
- **Название поля:** `production_management_contact2_text` (Textarea) - Текст контакта 2

**Особенности:**
- Автоматическое форматирование email в ссылки
- Поддержка HTML в текстах через `wp_kses_post()`

### 8. Информация о контейнерах

#### Заголовок контейнеров
- **Название поля:** `production_containers_title`
- **Тип:** Text
- **По умолчанию:** "Узнать больше о производстве контейнеров:"

#### Ссылка на дополнительную информацию
- **Название поля:** `production_containers_link_text` (Text) - Текст ссылки
- **Название поля:** `production_containers_link_url` (URL) - URL ссылки

#### Описание контейнеров
- **Название поля:** `production_containers_description`
- **Тип:** Text
- **По умолчанию:** "Контейнер цельносварной производится из комплектующих собственного производства:"

#### Спецификации контейнеров
- **Название поля:** `production_containers_specs`
- **Тип:** Repeater
  - **Подполя:**
    - `container_spec_text` (Textarea) - Текст спецификации

**Дефолтные спецификации:**
- стойка несущая угловая из стальной квадрат-трубы 100х50х6 мм, обработанная огнезащитной краской "ОГРАКС-МСК";
- панель стеновая: с наружной стороны облицована металлическим профилированным листом толщиной 1,5 мм с покрытием из эмали, с утеплителем из минераловатных плит толщиной 100 мм плотностью 30 кг/м³, с внутренней стороны облицована металлическим профилированным листом С-10 толщиной 0,5 мм;
- конструкция кровельная: облицована с наружной стороны металлическим гладким листом толщиной 1,5 мм, с внешним покрытием из эмали, с утеплителем из минераловатных плит, плотностью 90 кг/м³, толщиной 100 мм, с внутренней стороны облицована металлическим профилированным листом С-10 толщиной 0,5 мм.

#### Сертификация контейнеров
- **Название поля:** `production_containers_certification`
- **Тип:** Textarea
- **По умолчанию:** "Контейнер имеет вторую степень огнестойкости и выпускается по ТУ 25.11.23-001-99672874-2017. Скачать сертификат соответствия требованиям пожарной безопасности."

#### Ссылка на сертификат
- **Название поля:** `production_containers_certificate_text` (Text) - Текст ссылки на сертификат
- **Название поля:** `production_containers_certificate_url` (URL) - URL ссылки на сертификат

---

## Как использовать

### 1. Импорт полей ACF
1. Перейдите в админ-панель WordPress
2. Откройте раздел "Поля" → "Группы полей"
3. Нажмите "Импорт групп полей"
4. Загрузите файл `group_production-page-fields.json`
5. Нажмите "Импорт"

### 2. Создание страницы производства
1. Перейдите в "Страницы" → "Добавить новую"
2. Назовите страницу "Производство"
3. В блоке "Атрибуты страницы" выберите шаблон "Производство"
4. Сохраните страницу

### 3. Заполнение полей
1. Откройте созданную страницу для редактирования
2. Заполните нужные поля в блоке "Production Page Fields"
3. Для цехов добавьте изображения через галерею
4. Сохраните изменения

### 4. Настройка меню
1. Перейдите в "Внешний вид" → "Меню"
2. Добавьте страницу "Производство" в нужное меню
3. Сохраните меню

## Особенности реализации

### Система fallback
- Если поля не заполнены, отображается дефолтный контент
- Это позволяет постепенно заполнять поля без нарушения работы сайта

### Безопасность
- Все поля используют функции экранирования WordPress (`esc_html`, `esc_attr`, `esc_url`)
- Поддержка HTML в текстовых полях через `wp_kses_post()`

### Гибкость
- Можно добавлять/удалять элементы в repeater поля
- Поля необязательны - можно заполнять только нужные блоки
- Легко изменять контент через админку без редактирования кода

### Автоматическое форматирование
- Email адреса автоматически форматируются в ссылки
- Телефонные номера автоматически форматируются в ссылки
- Поддержка HTML в текстовых полях

### Дефолтные данные
- **Вводные тексты**: информация о компании, объеме производства, специалистах
- **Список продукции**: 5 основных видов производимой продукции
- **Цеха**: 2 основных цеха с описаниями
- **Преимущества**: 5 ключевых преимуществ производства
- **Менеджмент**: информация о партнерстве и контакты
- **Контейнеры**: технические спецификации и сертификация

## Поддержка

Если у вас возникли вопросы:
1. Проверьте, что ACF Pro активирован
2. Убедитесь, что поля импортированы корректно
3. Проверьте, что выбран правильный шаблон страницы
4. Очистите кеш сайта после изменений

---

**Результат:** Полностью управляемая через админку страница "Производство" с возможностью редактирования всех блоков контента без необходимости изменения кода. Система fallback обеспечивает стабильную работу сайта. Автоматическое форматирование контактов и поддержка галереи изображений для цехов.
