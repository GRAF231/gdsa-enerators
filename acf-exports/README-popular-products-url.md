# Инструкция: Добавление ссылок на товары в блоке "Популярные товары"

## Что было сделано

1. **Обновлен JSON файл ACF полей** (`group_home_page_fields.json`)
   - Добавлено поле `url` в repeater `home_popular_products`
   - Поле имеет тип `url` с инструкциями для заполнения

2. **Обновлен код в `front-page.php`**
   - Все карточки товаров теперь обернуты в теги `<a>`
   - Добавлена логика fallback: если URL не указан, генерируется автоматически из названия товара
   - Используется функция `sanitize_title()` для создания SEO-friendly URL

## Что нужно сделать в админке WordPress

### Шаг 1: Импорт обновленных полей ACF

1. Зайдите в админку WordPress
2. Перейдите в **Custom Fields → Field Groups**
3. Найдите группу полей **"Главная страница"**
4. Нажмите **"Import Field Groups"**
5. Выберите файл `acf-exports/group_home_page_fields.json`
6. Нажмите **"Import"**

### Шаг 2: Обновление существующих товаров

1. Перейдите на **главную страницу** в админке
2. Найдите блок **"Блок популярных товаров"**
3. Для каждого товара добавьте поле **"Ссылка на товар"**
4. Введите URL в формате: `/product/nazvanie-tovara`

### Примеры ссылок:

- `/product/dizelnyj-generator-10-kvt`
- `/product/dizelnyj-generator-20-kvt`
- `/product/dizelnyj-generator-50-kvt`
- `/product/dizelnyj-generator-100-kvt`
- `/product/dizelnyj-generator-200-kvt`

### Шаг 3: Проверка работы

1. Сохраните изменения
2. Перейдите на главную страницу сайта
3. Проверьте, что карточки товаров теперь кликабельны
4. Убедитесь, что ссылки ведут на правильные страницы

## Логика работы

- **Если URL указан** - используется указанный URL
- **Если URL не указан** - автоматически генерируется из названия товара
- **Пример**: "Дизельный генератор 10 кВт" → `/product/dizelnyj-generator-10-kvt`

## Дополнительные возможности

В будущем вы сможете:
- Создавать страницы товаров в WordPress
- Использовать WooCommerce для управления товарами
- Настраивать SEO-оптимизированные URL
- Добавлять мета-данные для товаров

## Технические детали

- Поле `url` имеет тип `url` для валидации
- Используется `esc_url()` для безопасности
- Fallback использует `sanitize_title()` для создания безопасных URL
- Все ссылки открываются в том же окне (можно изменить на `target="_blank"` при необходимости)
